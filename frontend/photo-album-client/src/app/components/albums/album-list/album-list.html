<div class="albums-page">
  <div class="albums-header">
    <h2>Your Albums</h2>

    <div class="albums-header-actions">
      <button type="button" [routerLink]="['/albums/create']">
        + Create New Album
      </button>

      <button type="button" (click)="logout()">
        Logout
      </button>
    </div>
  </div>

  <p *ngIf="errorMessage" class="error">
    {{ errorMessage }}
  </p>

  <ng-container *ngIf="albums$ | async as albums; else loading">
    <p *ngIf="albums.length === 0 && !errorMessage">
      You don't have any albums yet.
    </p>

    <ul *ngIf="albums.length > 0" class="album-list">
      <li *ngFor="let album of albums" class="album-list-item">
        <!-- Clickable title to go to album -->
        <button
          type="button"
          class="album-title-btn"
          (click)="goToAlbum(album._id)"
        >
          {{ album.title }}
        </button>

        <!-- Delete button -->
        <button
          type="button"
          class="album-delete-btn"
          (click)="deleteAlbum(album); $event.stopPropagation()"
        >
          Delete
        </button>
      </li>
    </ul>
  </ng-container>

  <ng-template #loading>
    <p>Loading albums...</p>
  </ng-template>
</div>
